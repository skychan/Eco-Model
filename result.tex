% !TEX root = Eco-Model.tex
\section{Experiment and result Analysis} % (fold)
\label{sec:Experiment_results}

Entities in the manufacturing ecosystem we designed above have these traits, they are: \begin{inparaenum}
\item autonomous and self-directed, 
\item social, interacting with other entities, 
\item controlled by the environment, 
\item self-contained.
\end{inparaenum} They optimize their multi-objective decision makings to interact with others and the environment, hence, agent-based modeling and simulation(ABMS) technique\cite{Macal2009,north2007managing} is suitable for the study of the complex system. With the help of Repast Simphony\cite{North2013} package, we realized the ecosystem model and performed some experiments on it.
\subsection{Agent-based modeling and simulation design} % (fold)
\label{sub:agent_based_modeling_and_simulation}
\subsubsection{Model realization}
\begin{asparaenum}
\item Main agents
\suspend{asparaenum}
% \begin{figure}[htbp]
% \centering
% \tiny
% \subfloat[Job related classes]{\begin{tikzpicture}
%     \input{figures/cJob}
%     \input{figures/cTask}
%     \input{figures/cServiceCall}
%     \end{tikzpicture}
%     \label{fig:jobclassed}}\hspace{1pt}
% \subfloat[Machine related classes]{\begin{tikzpicture}
%     \input{figures/cMachine}
%     \input{figures/cResource}
%     \input{figures/cService}
%     \end{tikzpicture}
%     \label{fig:machineclassed}}\\
% \subfloat[User related classes]{\begin{tikzpicture}
%     \input{figures/cUser}
%     \input{figures/cProvider}
% \input{figures/cDemander}
%     \end{tikzpicture}\label{fig:userclassed}}\hspace{3pt}
% \subfloat[Cloud Platform]{\begin{tikzpicture}
% 	\input{figures/cCloudPlatform}
% 	\end{tikzpicture}\label{fig:platform}}
% \end{figure}


\resume{asparaenum}
\item Behavior interfaces and classes
\end{asparaenum}

% \begin{figure}[htbp]
%     \centering
%     \tiny
%     \begin{tikzpicture}
%     \input{figures/iAssignBehavior}
%     \input{figures/iSelectBehavior}
%     \input{figures/iResponseBehavior}
%     \input{figures/iProcessBehavior}
%     \input{figures/iReleaseBehavior}
%     % \input{figures/cServiceAssign}
%     % \input{figures/cResourceAssign}
%     \end{tikzpicture}
%     \caption{Assign interface and related classes}
%     \label{fig:assigninterface}
% \end{figure}


\subsection{Experiments} % (fold)
\label{ssub:case_design}
We use the RanGen\cite{Demeulemeester2003} to generate order dataset in the well-known Patterson format with the parameters setting listed in \autoref{tab:generalparameter}, and the control parameters in the model are

\begin{table}[htbp]
  \centering
  \scriptsize
	\caption{Order generating parameters setting}
    \begin{tabular}{ccccccc}
    \toprule
    \textbf{Number of activities} & \textbf{OS} & \textbf{CI} & \textbf{Number of resources} & \textbf{RF} & \textbf{RC} \\
    \midrule
     10  &   0.3    &  [2,3]     &   12     &  0.3     &   0.5     \\
    \bottomrule
    \end{tabular}%
    {\footnotetext{\tiny The meaning of the parameters are defined in \cite{Demeulemeester2003}}}
  \label{tab:generalparameter}%
\end{table}%


% subsubsection case_design (end)

\subsubsection{Parameters setting} % (fold)
\label{ssub:parameters_setting}
We design experiments to validate service-incubate mode, outsource mode and metabolism mode \autoref{tab:grouping}, 10 datasets represent 10 types of orders, each of them contains 10 tasks with different configuration on 12 types of resources to perform with. 

\begin{table}[htbp]
  \centering
  \scriptsize
  \caption{Experiments mode grouping}
    \begin{tabular}{llcc}
    \toprule
          &       & Without metabolism & With metabolism \\
    \midrule
    \multicolumn{2}{l}{Resource-only} & Mode 11 & Mode 12 \\\hline
    \multicolumn{1}{l}{\multirow{2}[0]{*}{Service-incubate}} & without outsource & Mode 21 &Mode 22 \\\cline{2-4}
    \multicolumn{1}{l}{} & with outsource & Mode 31 & Mode 32 \\
    \bottomrule
    \end{tabular}%
  \label{tab:grouping}%
\end{table}%
% subsubsection parameters_setting (end)

\subsubsection{Result and analysis} % (fold)
\label{ssub:result_and_analysis}
All the experiments are simulated with same random seed to make no difference on the coming of order, provider and other irrelevant configuration to our validation. Even though different random seed makes different initialization of the simulation and different initialization will affect the simulation a lot, the universal law of the model cannot be changed if it exists. After bunch of experiments with different random seeds, we discovered some laws in operation mode. Take random seed 776189616 as example, we run the simulation for 6000 tick time and the experiment's results are displayed in \autoref{fig:out} and \autoref{tab:averagevalue},
\begin{figure}[htbp]
    \centering
    \includegraphics[width=\textwidth]{Data/out.pdf}
    \caption{Observed variable change with time}
    \label{fig:out}
\end{figure}
\begin{table}[htbp]
    \caption{Average observed values}
    \label{tab:averagevalue}
    \centering
    \scriptsize
    \begin{tabular}{lccccc}
    \toprule
    \textbf{Mode} & $\bar N_T$ & $\bar N_F$ & $\bar N_P$ & $\bar N_R $ & $\bar Q$\\
    \midrule
    Mode 11 & 1159.36 &  1644.201 &  1177.601 &  2053.727 &  8.388\\
    Mode 21 & \textit{636.769} &  \textit{2031.215} &  \textbf{692.716} &  \textbf{1066.947} &  16.016\\
    Mode 31 & 779.413 &  1996.021 &  \textit{782.272} &  \textit{1203.748} &  15.174\\
    Mode 12 & 1439.831 &  1522.923 &  1797.883 &  2954.113 &  14.057\\
    Mode 22 & \textbf{343.444} &  \textbf{2464.407} &  1316.952 &  1957.226 &  \textit{20.251}\\
    Mode 32 & 1164.409 &  1907.011 &  1597.742 &  2428.155 &  \textbf{20.652}\\

    \bottomrule
    \end{tabular}
\end{table}
we find: \begin{inparaenum}[1)]
\item Most dotted lines are above the full lines with the same series in $N_R,N_P,N_T$ means that metabolism mode need lower number of provider and resource, with the price of higher number of queue length of the tasks in resources in the system to deal with the same amount of needs, except for Mode 22, this combined mode even also need lower number of queue length. Full lines are not much above dotted lines in $N_F$ means that task processing velocity will be a little slower with the metabolism, exception also appears in Mode 22. 
\item $L$ and $N_T$ both represent the waiting of job, triangle and square line turned lower in $L$ meas that service-incubate mode can help reduce the waiting of job, these two type of line appeared above the circle line means the service-incubate mode do accelerate the processing velocity.
\item Triangle lines are a little above the square lines in $N_R,N_P,N_T$ means that outsource mode needs more resources to operate and can only reduce the waiting of job a little.
\item There is no big difference among all the 6 modes. Provider in metabolism mode will get lower rank value for they cannot stay in the system forever, the longer stay in the system, the higher rank value provider will get. Provider in Mode 11 even will not promote their rank value, which means that the metabolism rate is very fast without service-incubate mode.
\item Mode 22 is a very special mode that reached the balance of the system that the number of provider and resource changed little with time goes by and it means all the ..., theoretically all the metabolism related modes will reach balance in the long run because the coming order velocity less than the resources, but the appearance of service-call and metabolism itself is full of uncertainty and it's hard to predict when other metabolism related mode will get the balance. , with the average data value shown in \autoref{tab:averagevalue}, metabolism with service-incubate but not with outsource mode is the easiest combine mode to maintain the system, resource are self configured and controlled to just meet the task need.
\end{inparaenum}



% subsubsection result_and_analysis (end)